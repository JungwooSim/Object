# 04. 설계 품질과 트레이드 오프

설계는 변경을 위해 존재하고 변경에는 어떤 식으로든 비용이 발생한다.<br>
훌륭한 설계란 합리적인 비용안에서 수용할 수 있는 구조를 만드는 것이다.<br>
적절한 비용 안에서 쉽게 변경할 수 있는 설계는 응집도 가 높고 서로 느슨하게 결합돼 있는 요소로 구성된다.<br>
결합도와 응집도를 합리적인 수준으로 유지할 수 있는 중요한 원칙이 있다.<br>
객체의 상태가 아니라 행동의 초점에 맞추는 것이다.<br>

### 01. 데이터 중심의 영화 예매 시스템

두 가지 방법을 이용해 시스템을 객체로 분할할 수 있다.<br>
첫 번째 방법은 상태를 분할의 중심축으로 삼는 방법이고, 두 번째 방법은 책임을 분할의 중심축으로 삼는 방법이다.<br>
앞으로 '상태'와 '데이터'를 동일한 의미로 사용한다.<br>
<br>
데이터 중심의 관점에서 객체는 자신이 포함하고 있는 데이터를 조작하는데 필요한 오퍼레이션을 정의한다.<br>
책임 중심의 관점에서는 객체는 다른 객체가 요청할 수 있는 오퍼레이션을 위해 필요한 상태를 보관한다.<br>
훌륭한 객체지향 설계는 데이터가 아니라 책임에 초점을 맞춰야 한다. 이유는 변경과 관련이 있다.<br>
객체의 상태는 구현에 속한다. 구현은 불안정하기 때문에 변하기 쉽다.<br>
상태를 객체 분할의 중심축으로 삼으면 구현에 관한 세부사항이 객체의 인터페이스에 스며들게 되어 캡슐화의 원칙이 무너진다.<br>
결과적으로 상태 변경은 인터페이스의 변경을 초래하며 이 인터페이스에 의존하는 모든 객체에게 변경의 영향이 퍼지게 된다.<br>
따라서 데이터에 초점을 맞추는 설계는 변경에 취약할 수 밖에 없다.<br>
객체의 책임은 인터페이스에 속한다.<br>
객체는 책임을 드러내는 안정적인 인터페이스 뒤로 책임을 수행하는 데 필요한 상태를 캡슐화함으로써 구현 변경에 대한 파장이 외부로 퍼져나가는 것을 방지한다.<br>
따라서 책임에 초점을 맞추면 상대적으로 변경에 안정적인 설계를 얻을 수 있게 된다.<br>
